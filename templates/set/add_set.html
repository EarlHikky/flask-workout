{% extends 'base.html' %}

{% block content %}
  {{ super() }}
<div id="formContainer" style="display: block;">
<form id="start-form" action="{{ url_for('add_set') }}" method="post" class="form-contact">
  <p><label for="exercise">Упражнение: </label>
    <select name="exercise" id="exercise">
      {% for exercise in exercises %}
        <option value="{{ exercise.id }}" {% if exercise.title == last_set_exercise_title %}selected{% endif %}>{{ exercise.title }}</option>
      {% endfor %}
    </select>
  </p>
  <p><input id="hideFormButton" type="submit" value="Старт" /></p>
</form>
</div>

<form action="{{ url_for('stop_set') }}" method="post" class="form-contact">

  <p><label>Повторы: </label> <input type="text" name="reps" id="reps" value="" /></p>
    <p><label>Вес: </label> <input type="text" name="weight" id="weight" value="" /></p>

    <p>
   <label>Отдых: </label>
 <table>
 <tr><td>
   <div class="radio-container">
    <input type="radio" id="rest120" name="rest" value="120" >
    <label for="rest120">120 секунд</label>
   </div>
  </td>
  <td>
   <div class="radio-container">
    <input type="radio" id="rest90" name="rest" value="90" checked>
    <label for="rest90">90 секунд</label>
   </div>
  </td>
  <td>
   <div class="radio-container">
    <input type="radio" id="rest60" name="rest" value="60">
    <label for="rest60">60 секунд</label>
   </div>
  </td>
  <td>
   <div class="radio-container">
    <input type="radio" id="rest30" name="rest" value="30">
    <label for="rest30">30 секунд</label>
   </div>
  </td>
 </tr>
 </table>
<p><input type="submit" value="Стоп" /></p>
</form>

<form action="{{url_for('stop_workout')}}" method="post" class="form-contact">
    <input type="submit" value="Завершить тренировку">
</form>

<script>
const hideButton = document.querySelector('#hideFormButton');
const showButton = document.querySelector('#showFormButton');
const formContainer = document.querySelector('#formContainer');

hideButton.addEventListener('click', (event) => {
 event.preventDefault();

 // Отправка формы
 const form = document.querySelector('#formContainer form');
 const formData = new FormData(form);
 fetch(form.action, {
 method: form.method,
 body: formData
 }).then(response => {
 // Скрытие формы
 formContainer.style.display = 'none';
 });
});
</script>
<!--<script>-->
<!--    document.getElementById('exercise').addEventListener('change', function() {-->
<!--        var selectedExerciseId = this.value;-->
<!--        console.log('Выбранное упражнение:', selectedExerciseId);-->

<!--    });-->
<!--</script>-->

<script>
    var selectedExercise = document.getElementById('exercise').value;
    console.log('Текущее выбранное упражнение:', selectedExercise);
</script>


{% endblock %}

